if (!('stoa' in window)) {
    window.stoa = {
    }
}
stoa.config = {
    cookie_expiry: 604800, // Set cookies to expire after 1 week
    storage_method: 2 //2: cookies, 1: localStorage, 0: localStorage if available otherwise cookies 
};
stoa.settings={
	is:function(b,a){return(stoa.data.get("settings",b+"-"+a)==1)},
	exists:function(b,a){return(stoa.data.get("settings",b+"-"+a)!==null)},
	set:function(b,a){stoa.data.set("settings",b+"-"+a,1)},
	unset:function(b,a){stoa.data.set("settings",b+"-"+a,-1)},
	remove:function(b,a){stoa.data.remove("settings",b+"-"+a)},	
	
	sidebar_fixed: function (a) {
        a = a || false;
        var b = document.getElementById('sidebar');
        if (a) {
            stoa.settings.set('sidebar', 'fixed')
        } else {
            stoa.settings.unset('sidebar', 'fixed')
        }
    },
	sidebar_collapsed: function (c) {
			c = c || false;
			var e = document.getElementById('sidebar');
			var d = document.getElementById('sidebar-collapse') .querySelector('[class*="icon-"]');
			var b = d.getAttribute('data-icon1');
			var a = d.getAttribute('data-icon2');
			if (c) {
				stoa.addClass(e, 'menu-min');
				stoa.removeClass(d, b);
				stoa.addClass(d, a);
				stoa.settings.set('sidebar', 'collapsed')
			} else {
				stoa.removeClass(e, 'menu-min');
				stoa.removeClass(d, a);
				stoa.addClass(d, b);
				stoa.settings.unset('sidebar', 'collapsed')
			}
		},
	};
		
	// Deixei essa parte porque irei ver com o Helbert a parte do cookie quando collapsado 
	stoa.data_storage=function(e,c){var b="stoa.";var d=null;var a=0;if((e==1||e===c)&&"localStorage" in window&&window.localStorage!==null){d=stoa.storage;a=1}else{if(d==null&&(e==2||e===c)&&"cookie" in document&&document.cookie!==null){d=stoa.cookie;a=2}}this.set=function(h,g,i,k){if(!d){return}if(i===k){i=g;g=h;if(i==null){d.remove(b+g)}else{if(a==1){d.set(b+g,i)}else{if(a==2){d.set(b+g,i,stoa.config.cookie_expiry)}}}}else{if(a==1){if(i==null){d.remove(b+h+"."+g)}else{d.set(b+h+"."+g,i)}}else{if(a==2){var j=d.get(b+h);var f=j?JSON.parse(j):{};if(i==null){delete f[g];if(stoa.sizeof(f)==0){d.remove(b+h);return}}else{f[g]=i}d.set(b+h,JSON.stringify(f),stoa.config.cookie_expiry)}}}};this.get=function(h,g,j){if(!d){return null}if(g===j){g=h;return d.get(b+g)}else{if(a==1){return d.get(b+h+"."+g)}else{if(a==2){var i=d.get(b+h);var f=i?JSON.parse(i):{};return g in f?f[g]:null}}}};this.remove=function(g,f,h){if(!d){return}if(f===h){f=g;this.set(f,null)}else{this.set(g,f,null)}}};stoa.cookie={get:function(c){var d=document.cookie,g,f=c+"=",a;if(!d){return}a=d.indexOf("; "+f);if(a==-1){a=d.indexOf(f);if(a!=0){return null}}else{a+=2}g=d.indexOf(";",a);if(g==-1){g=d.length}return decodeURIComponent(d.substring(a+f.length,g))},set:function(b,e,a,g,c,f){var h=new Date();if(typeof(a)=="object"&&a.toGMTString){a=a.toGMTString()}else{if(parseInt(a,10)){h.setTime(h.getTime()+(parseInt(a,10)*1000));a=h.toGMTString()}else{a=""}}document.cookie=b+"="+encodeURIComponent(e)+((a)?"; expires="+a:"")+((g)?"; path="+g:"")+((c)?"; domain="+c:"")+((f)?"; secure":"")},remove:function(a,b){this.set(a,"",-1000,b)}};stoa.storage={get:function(a){return window.localStorage.getItem(a)},set:function(a,b){window.localStorage.setItem(a,b)},remove:function(a){window.localStorage.removeItem(a)}};stoa.sizeof=function(c){var b=0;for(var a in c){if(c.hasOwnProperty(a)){b++}}return b};stoa.hasClass=function(b,a){return(" "+b.className+" ").indexOf(" "+a+" ")>-1};stoa.addClass=function(c,b){if(!stoa.hasClass(c,b)){var a=c.className;c.className=a+(a.length?" ":"")+b}};stoa.removeClass=function(b,a){stoa.replaceClass(b,a)};stoa.replaceClass=function(c,b,d){var a=new RegExp(("(^|\\s)"+b+"(\\s|$)"),"i");c.className=c.className.replace(a,function(e,g,f){return d?(g+d+f):" "}).replace(/^\s+|\s+$/g,"")};stoa.toggleClass=function(b,a){if(stoa.hasClass(b,a)){stoa.removeClass(b,a)}else{stoa.addClass(b,a)}};stoa.data=new stoa.data_storage(stoa.config.storage_method);